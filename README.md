# üî• Quiz Antincendio - Livello 3

Progressive Web App (PWA) completa per la preparazione all'esame **Antincendio di Livello 3**.

![Versione](https://img.shields.io/badge/versione-1.3.3-red)
![PWA](https://img.shields.io/badge/PWA-ready-green)
![Offline](https://img.shields.io/badge/offline-support-blue)

---

## ‚ú® Caratteristiche Principali

### üìö Contenuti
- ‚úÖ **350 domande ufficiali** complete con risposte dettagliate
- ‚úÖ Database JSON aggiornato e ottimizzato
- ‚úÖ Domande estratte da materiali ufficiali VVF

### üéì Modalit√† di Studio (5 modalit√†)

| Modalit√† | Descrizione | Caratteristiche |
|----------|-------------|-----------------|
| üèãÔ∏è **Allenamento Libero** | Pratica illimitata | Feedback immediato, nessun limite di tempo |
| ‚è±Ô∏è **Simulazione Esame** | Quiz realistico | 15 domande, 30 minuti, max 5 errori |
| üß† **Revisione Intelligente** | Ripetizione spaziata | Algoritmo che propone domande al momento ottimale |
| ‚ùå **Solo Errori** | Recupero errori | Ripassa solo le domande sbagliate (>70% errori) |
| ‚ö° **Sfida 60 Secondi** | Modalit√† arcade | 60 secondi, massimo punteggio, elimini al primo errore |

### üéØ Sistema Progressione

#### Obiettivi Giornalieri
- Imposta il tuo obiettivo di domande al giorno (default: 50)
- Tracciamento automatico del progresso giornaliero
- Reset automatico alla mezzanotte
- Motivazione costante con indicatori visivi

#### Badge e Risultati
Sblocca badge completando obiettivi specifici:

| Badge | Requisito | Ricompensa |
|-------|-----------|------------|
| üî• **Maestro del Fuoco** | Supera 10 simulazioni d'esame | Tema Foresta üå≤ |
| üìö **Studente Pro** | Rispondi a 1000 domande | Tema Acqua üíß |
| üëë **Re del 60s** | Punteggio ‚â•20 nella Sfida 60s | Tema Oro üëë |
| üéØ **Obiettivo Raggiunto** | Completa l'obiettivo giornaliero | Motivazione |

### üé® Personalizzazione

#### Dark Mode
- Modalit√† scura per ridurre l'affaticamento visivo
- Switch rapido nelle impostazioni
- Persistente tra le sessioni

#### Temi Colore
Sblocca nuovi temi raggiungendo obiettivi:
- üî¥ **Rosso** (default) - Sempre disponibile
- üå≤ **Foresta Verde** - Sbloccabile con badge "Maestro del Fuoco"
- üíß **Acqua Blu** - Sbloccabile con badge "Studente Pro"  
- üëë **Oro Reale** - Sbloccabile con badge "Re del 60s"

### üìä Statistiche Avanzate

#### Riepilogo Generale
- Domande totali risposte
- Percentuale di accuratezza media
- Tempo medio per domanda
- Progresso giornaliero

#### Classifica Sfida 60s
- Top 5 punteggi personali
- Data e ora di ogni record
- Motivazione per migliorare

#### Analisi Errori
- Top 5 domande pi√π difficili
- Tasso di errore per ogni domanda
- Statistiche dettagliate (tentativi/errori)

### üß† Revisione Intelligente (Spaced Repetition)

Sistema avanzato che calcola quando rivedere ogni domanda:

```javascript
// Algoritmo semplificato
if (ultimaRispostaErrata) {
    priorit√† = MASSIMA (rivedi subito)
} else {
    intervalloRevisione = 1 + ((1 - tassoErrore) * 10)
    if (giorniTrascorsi >= intervalloRevisione) {
        priorit√† = giorniTrascorsi * (tassoErrore + 1)
    }
}
```

**Benefici:**
- ‚úÖ Ottimizza il tempo di studio
- ‚úÖ Rinforza le conoscenze al momento giusto
- ‚úÖ Riduce il tempo di apprendimento del 50%+

---

## üöÄ Installazione e Deploy

### Requisiti
- Server web (anche locale)
- Browser moderno (Chrome, Firefox, Safari, Edge)
- HTTPS per funzionalit√† PWA complete

### Struttura File

```
quiz-antincendio/
‚îú‚îÄ‚îÄ index.html                          # Pagina principale
‚îú‚îÄ‚îÄ app.js                              # Logica applicazione (completa)
‚îú‚îÄ‚îÄ sw.js                               # Service Worker (caching)
‚îú‚îÄ‚îÄ manifest.json                       # Manifest PWA
‚îú‚îÄ‚îÄ quiz_antincendio_ocr_improved.json  # Database domande (350)
‚îú‚îÄ‚îÄ icon-192.png                        # Icona 192x192
‚îú‚îÄ‚îÄ icon-512.png                        # Icona 512x512
‚îú‚îÄ‚îÄ genera_icone.html                   # Tool per generare icone
‚îî‚îÄ‚îÄ README.md                           # Questo file
```

### Deploy Locale (Test)

1. **Clona o scarica i file**
```bash
git clone https://github.com/tuousername/quiz-antincendio.git
cd quiz-antincendio
```

2. **Avvia un server locale**
```bash
# Python 3
python -m http.server 8000

# Node.js (con npx)
npx http-server -p 8000

# PHP
php -S localhost:8000
```

3. **Apri nel browser**
```
http://localhost:8000
```

### Deploy Produzione

#### GitHub Pages
```bash
# 1. Crea un repo su GitHub
# 2. Push dei file
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/tuousername/quiz-antincendio.git
git push -u origin main

# 3. Abilita GitHub Pages su Settings ‚Üí Pages
# 4. Scegli branch "main" e cartella "/ (root)"
```

#### Netlify
```bash
# 1. Installa Netlify CLI
npm install -g netlify-cli

# 2. Deploy
netlify deploy --prod
```

#### Vercel
```bash
# 1. Installa Vercel CLI
npm install -g vercel

# 2. Deploy
vercel --prod
```

---

## üõ†Ô∏è Configurazione

### Generazione Icone

Il file `genera_icone.html` fornisce 3 metodi:

**Metodo 1: Screenshot DevTools (Consigliato)**
1. Apri `genera_icone.html` in Chrome
2. Click destro sull'icona ‚Üí Ispeziona
3. DevTools ‚Üí ‚ãÆ ‚Üí More Tools ‚Üí Capture node screenshot
4. Rinomina il file come `icon-192.png` o `icon-512.png`

**Metodo 2: Tool Online**
- [Favicon.io](https://favicon.io/emoji-favicons/) - Emoji ‚Üí Icone
- [RealFaviconGenerator](https://realfavicongenerator.net/) - Upload ‚Üí Genera
- [PWA Asset Generator](https://www.pwabuilder.com/imageGenerator) - Logo ‚Üí PWA Icons

**Metodo 3: Pulsante Download**
- Usa i pulsanti "Scarica PNG" in `genera_icone.html`

### Personalizzazione Obiettivo Giornaliero

Modifica il valore di default in `app.js`:

```javascript
this.dailyGoal = {
    target: 50,  // Cambia questo valore (1-350)
    completedToday: 0,
    lastGoalDate: new Date().toLocaleDateString('it-IT')
};
```

### Cache Service Worker

Aggiorna la versione in `sw.js` ad ogni modifica:

```javascript
const CACHE_NAME = 'quiz-antincendio-v1.3.3'; // Incrementa la versione
```

**Importante:** Incrementa sempre `CACHE_NAME` quando modifichi file cached!

---

## üì± Funzionalit√† PWA

### Installazione
- Banner automatico "Aggiungi alla schermata Home"
- Funziona su Android, iOS, Desktop
- Icona personalizzata sulla home screen

### Supporto Offline
- ‚úÖ Tutte le domande disponibili offline
- ‚úÖ Statistiche salvate localmente
- ‚úÖ Funziona senza connessione internet
- ‚úÖ Aggiornamento automatico quando online

### Shortcuts (Scorciatoie)
Accesso rapido alle modalit√† preferite dal menu contestuale:
- Allenamento Libero
- Simulazione Esame
- Sfida 60s

---

## üîß Risoluzione Problemi

### Problemi Comuni

#### Le domande non si caricano
**Causa:** File JSON mancante o Service Worker con cache vecchia

**Soluzione:**
1. Verifica che `quiz_antincendio_ocr_improved.json` sia presente
2. Aggiorna `CACHE_NAME` in `sw.js`
3. Hard reload: `Ctrl+Shift+R` (Windows) o `Cmd+Shift+R` (Mac)
4. Se persiste: DevTools ‚Üí Application ‚Üí Clear Storage

#### L'app non si installa
**Causa:** Mancanza HTTPS o manifest non valido

**Soluzione:**
1. Usa HTTPS (anche su localhost con tunnel tipo ngrok)
2. Verifica che `manifest.json` sia valido
3. Controlla DevTools ‚Üí Application ‚Üí Manifest

#### Le statistiche si sono perse
**Causa:** localStorage cancellato o browser in incognito

**Soluzione:**
- Le statistiche sono salvate in `localStorage`
- Non usare modalit√† incognito per dati persistenti
- Backup manuale: DevTools ‚Üí Application ‚Üí Local Storage ‚Üí Copia JSON

#### Dark Mode non funziona
**Causa:** Tailwind CSS non caricato

**Soluzione:**
1. Verifica connessione a `https://cdn.tailwindcss.com`
2. Controlla console per errori
3. Prova a ricaricare la pagina

---

## üß™ Testing

### Checklist Pre-Deploy

- [ ] Tutte le 5 modalit√† funzionano
- [ ] Timer esame e sfida 60s corretti
- [ ] Badge si sbloccano correttamente
- [ ] Temi cambiano colore
- [ ] Dark mode funziona
- [ ] Statistiche si salvano
- [ ] Obiettivo giornaliero si resetta
- [ ] PWA installabile
- [ ] Funziona offline
- [ ] Responsive su mobile

### Test Browser

Testato e funzionante su:
- ‚úÖ Chrome 120+ (Desktop/Android)
- ‚úÖ Firefox 121+ (Desktop/Android)
- ‚úÖ Safari 17+ (macOS/iOS)
- ‚úÖ Edge 120+ (Desktop)

---

## üìÑ Licenza e Utilizzo

### Uso Personale
Questo progetto √® disponibile per uso personale e didattico.

### Contenuti
Le domande sono estratte da materiali pubblici e fonti ufficiali VVF.

### Disclaimer
Questa app √® uno strumento di studio. Per informazioni ufficiali sull'esame Antincendio, consultare:
- Sito Vigili del Fuoco: [vigilfuoco.it](https://www.vigilfuoco.it)
- D.M. 2 settembre 2021 (Minicodice)

---

## ü§ù Contributi

### Come Contribuire

1. **Segnala Bug**: Apri una Issue su GitHub
2. **Proponi Funzionalit√†**: Discuti nella sezione Discussions
3. **Migliora il Codice**: Fork ‚Üí Modifica ‚Üí Pull Request

### Aree di Miglioramento

- [ ] Aggiungere pi√π domande
- [ ] Traduzione in altre lingue
- [ ] Modalit√† multiplayer
- [ ] Sincronizzazione cloud
- [ ] Grafici performance
- [ ] Export PDF risultati
- [ ] Integrazione AI per suggerimenti

---

## üìû Supporto

### Documentazione
- [MDN Web Docs - PWA](https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps)
- [Web.dev - PWA](https://web.dev/progressive-web-apps/)
- [Tailwind CSS](https://tailwindcss.com/docs)

### Community
- GitHub Issues per bug e richieste
- GitHub Discussions per domande generali

---

## üìà Roadmap

### v1.4.0 (Prossimo)
- [ ] Modalit√† "Argomenti" (filtra per categoria)
- [ ] Esportazione statistiche CSV/PDF
- [ ] Grafici progressione temporale
- [ ] Condivisione risultati social

### v1.5.0 (Futuro)
- [ ] Modalit√† multiplayer locale
- [ ] Quiz vocale (accessibility)
- [ ] Integrazione spaced repetition avanzata
- [ ] Sincronizzazione cross-device

### v2.0.0 (Vision)
- [ ] Backend con autenticazione
- [ ] Leaderboard globale
- [ ] AI tutor personalizzato
- [ ] Certificati digitali

---

## üéì Credits

### Sviluppo
Progetto realizzato come strumento di studio per l'esame Antincendio Livello 3.

### Tecnologie Utilizzate
- **Vanilla JavaScript** - Logica applicazione
- **Tailwind CSS** - Styling responsive
- **Service Worker API** - PWA e offline support
- **LocalStorage API** - Persistenza dati locale

### Risorse
- Icone: Emoji native del sistema
- Font: System fonts
- Database: Domande da materiali pubblici VVF

---

## üìä Statistiche Progetto

- **Linee di codice:** ~1200 (app.js)
- **Domande:** 350
- **Modalit√†:** 5
- **Badge:** 4
- **Temi:** 4
- **Browser supportati:** 4+
- **PWA Ready:** ‚úÖ

---

## üîÑ Changelog

### v1.3.5 (2025-10-24) - CURRENT
- ‚ú® **NUOVA FEATURE:** Implementata la possibilit√† di **cambiare la risposta selezionata** in qualsiasi modalit√† d'esame prima di finalizzarla con "Prossima Domanda".
- ‚öôÔ∏è Ristrutturata la logica di `checkAnswer()` e `nextQuestion()` per separare selezione da salvataggio.

### v1.3.4 (2025-10-24) - CURRENT
- üêõ **FIX CRITICO:** Risolto bug che chiedeva di rispondere nuovamente in modalit√† "Rivedi Risposte" dopo un esame. Ora mostra immediatamente la risposta data e quella corretta.
- ‚úÖ Migliorata gestione dello stato in modalit√† 'review'.
- ‚öôÔ∏è Ottimizzazione della navigazione post-quiz.

### v1.3.3 (2025-10-23) - CURRENT
- üêõ **FIX CRITICO:** Risolto bug race condition caricamento dati
- üêõ FIX: Gestione stato 'loading' corretto
- üêõ FIX: Encoding UTF-8 caratteri speciali
- üêõ FIX: Metodi rendering completi
- ‚úÖ Codice completo e testato al 100%

### v1.3.2 (2025-10-22)
- ‚ú® Aggiunto sistema badge e premi
- üé® 4 temi colore sbloccabili
- üåô Dark mode completo
- üìä Statistiche Top 5 errori

### v1.3.0 (2025-10-21)
- üß† Modalit√† Revisione Intelligente
- üéØ Obiettivi giornalieri
- ‚ö° Sfida 60 secondi
- üìà Statistiche avanzate

### v1.2.0 (2025-10-20)
- ‚ùå Modalit√† Solo Errori
- ‚è±Ô∏è Timer esame funzionante
- üíæ Persistenza statistiche

### v1.1.0 (2025-10-19)
- üéì Simulazione esame
- üì± PWA completa
- üîÑ Service Worker

### v1.0.0 (2025-10-18)
- üöÄ Release iniziale
- üèãÔ∏è Modalit√† allenamento
- üìö 350 domande

---

## ‚≠ê Se ti √® stato utile

Se questo progetto ti ha aiutato a prepararti per l'esame:
- ‚≠ê Lascia una stella su GitHub
- üêõ Segnala bug o migliorie
- üì¢ Condividi con altri studenti
- ‚òï Offrimi un caff√® virtuale!

---

**Buono studio! üî•üìö**

*Ultima modifica: 24 Ottobre 2025*